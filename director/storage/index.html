<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.2543ff947a193d7f33b1.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=Inconsolata&display=swap);@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap);</style><meta name="generator" content="Gatsby 2.31.1"/><title data-rh="true">Storage drivers | Sorry Cypress</title><meta data-rh="true" property="og:title" content="Storage drivers"/><meta data-rh="true" property="og:description" content="An open-source, on-premise, self-hosted alternative to Cypress dashboard with free cypress parallelization"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" name="twitter:card" content="summary"/><meta data-rh="true" name="twitter:title" content="Storage drivers"/><meta data-rh="true" name="twitter:description" content="An open-source, on-premise, self-hosted alternative to Cypress dashboard with free cypress parallelization"/><meta data-rh="true" charSet="utf-8"/><meta data-rh="true" name="description"/><script data-rh="true" async="" src="https://www.googletagmanager.com/gtag/js?id=GTM-MRJQTW3"></script><script data-rh="true">
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'GTM-MRJQTW3');
          </script><link as="script" rel="preload" href="/webpack-runtime-35816766eca2939e0727.js"/><link as="script" rel="preload" href="/framework-22210915f06f18fcf573.js"/><link as="script" rel="preload" href="/styles-c2598f7b497d65d1061f.js"/><link as="script" rel="preload" href="/app-4c4652f88b6856a41a16.js"/><link as="script" rel="preload" href="/bac1b955-b711947e81fae9e9bc2c.js"/><link as="script" rel="preload" href="/0e9153fc81f8423a02120677f529c9dabcf95ba8-5de3d99bec290bcb0d96.js"/><link as="script" rel="preload" href="/component---src-director-storage-mdx-13ce6066df7256f4f321.js"/><link as="fetch" rel="preload" href="/page-data/director/storage/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1635659820.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1ouyflx">.css-1ouyflx{font-family:'Source Sans Pro',sans-serif;font-size:20px;font-weight:400;line-height:1.5;color:var(--theme-ui-colors-text,#2D3747);background-color:var(--theme-ui-colors-background,#FFFFFF);}</style><div class="css-1ouyflx"><style data-emotion-css="jrjj6h">.css-jrjj6h > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="1ubpee3">.css-1ubpee3{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1ubpee3 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="hbri28">.css-hbri28{box-sizing:border-box;min-width:0;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hbri28 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><div data-testid="layout" class="css-hbri28"><style data-emotion-css="1xva7m0">body{margin:0;padding:0;}.icon-link{display:none;}.with-overlay{overflow:hidden;}</style><style data-emotion-css="zf0iqh">.css-zf0iqh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="1tjxv7i">.css-1tjxv7i{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="238csb">.css-238csb{box-sizing:border-box;min-width:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><main class="css-238csb"><style data-emotion-css="vewmai">.css-vewmai{background-color:var(--theme-ui-colors-header-bg,white);position:relative;z-index:1;border-bottom:1px solid var(--theme-ui-colors-border,#CED4DE);}</style><div data-testid="header" class="css-vewmai"><style data-emotion-css="zankq9">.css-zankq9{display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-zankq9{display:block;}}</style><style data-emotion-css="1s0wdqz">.css-1s0wdqz{box-sizing:border-box;min-width:0;display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-1s0wdqz{display:block;}}</style><div class="css-1s0wdqz"><style data-emotion-css="4019lz">.css-4019lz{padding:0;outline:none;background:transparent;border:none;color:var(--theme-ui-colors-header-text,#2D3747);opacity:0.5;cursor:pointer;}.css-4019lz:hover{cursor:pointer;}</style><button class="css-4019lz"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div><style data-emotion-css="z6jak6">.css-z6jak6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-left:32px;padding-right:32px;position:relative;height:80px;}</style><div class="css-z6jak6"><style data-emotion-css="xenp3v">.css-xenp3v{-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="1abzlu">.css-1abzlu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="ug0363">.css-ug0363{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><div data-testid="logo" class="css-ug0363"><style data-emotion-css="gyijir">.css-gyijir{font-weight:600;color:var(--theme-ui-colors-header-text,#2D3747);-webkit-text-decoration:none;text-decoration:none;}.css-gyijir:hover{color:var(--theme-ui-colors-primary,#0B5FFF);}</style><a class="css-gyijir" href="/">Sorry Cypress</a></div><style data-emotion-css="k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><style data-emotion-css="80zs6q">.css-80zs6q{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-80zs6q"><style data-emotion-css="12z0wuy">.css-12z0wuy{margin-right:8px;}</style><style data-emotion-css="q6cf68">.css-q6cf68{box-sizing:border-box;min-width:0;margin-right:8px;}</style><div class="css-q6cf68"><style data-emotion-css="1is33jg">.css-1is33jg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:12px;border:none;border-radius:9999px;background-color:var(--theme-ui-colors-header-button-bg,#0B5FFF);color:var(--theme-ui-colors-header-button-color,#FFFFFF);font-size:12px;font-weight:600;cursor:pointer;}</style><a href="https://github.com/agoldis/sorry-cypress" target="_blank" rel="noopener noreferrer" class="css-1is33jg"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div><button aria-label="Switch to light mode" class="css-1is33jg"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div></div></div><style data-emotion-css="1nfi0ai">.css-1nfi0ai{padding-top:0;padding-bottom:0;-webkit-flex:1;-ms-flex:1;flex:1;display:grid;grid-template-columns:250px minmax(0,1fr);min-height:100vh;}@media screen and (max-width:57.5em){.css-1nfi0ai{display:block;}}</style><div class="css-1nfi0ai"><style data-emotion-css="1tn7q1x">.css-1tn7q1x{z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><style data-emotion-css="h4snl3">.css-h4snl3{box-sizing:border-box;min-width:0;z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><div class="css-h4snl3"></div><style data-emotion-css="1ethd5x">.css-1ethd5x{padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1ethd5x{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><style data-emotion-css="1li9yso">.css-1li9yso{box-sizing:border-box;min-width:0;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1li9yso{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><div data-testid="sidebar" class="css-1li9yso"><style data-emotion-css="lcm9hh">.css-lcm9hh{margin-bottom:16px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div data-testid="nav-search" class="css-lcm9hh"><style data-emotion-css="1mo6uhh">.css-1mo6uhh{color:var(--theme-ui-colors-border,#CED4DE);margin-right:8px;}</style><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1mo6uhh"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><style data-emotion-css="1bbueiu">.css-1bbueiu{outline:none;background:none;border:none;color:var(--theme-ui-colors-text,#2D3747);font-size:14px;}</style><input placeholder="Type to search..." value="" class="css-1bbueiu"/></div><style data-emotion-css="1rqvyud">.css-1rqvyud{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);-webkit-text-decoration:none;text-decoration:none;font-size:16px;}.css-1rqvyud.active{color:var(--theme-ui-colors-sidebar-navLinkActive,#0B5FFF);}</style><a class="css-1rqvyud" href="/">Introduction</a><a class="css-1rqvyud" href="/quickstart">Quickstart</a><a class="css-1rqvyud" href="/terminology">Terminology</a><style data-emotion-css="1ebprri">.css-1ebprri{margin-top:16px;margin-bottom:16px;}</style><div data-testid="nav-group" class="css-1ebprri"><style data-emotion-css="1c8kbwa">.css-1c8kbwa{margin-bottom:4px;font-size:16px;font-weight:500;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1c8kbwa">Director<style data-emotion-css="1scp5x8">.css-1scp5x8{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1scp5x8"><polyline points="6 9 12 15 18 9"></polyline></svg></div><style data-emotion-css="1isemmb">.css-1isemmb{margin-left:8px;}</style><div data-testid="nav-group-links" class="css-1isemmb"><a class="css-1rqvyud" href="/director/configuration">Configuration</a><a class="css-1rqvyud" href="/director/execution">Execution drivers</a><a aria-current="page" class="css-1rqvyud active" href="/director/storage">Storage drivers</a><style data-emotion-css="1ooej63">.css-1ooej63{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-tocLink,#67788a);-webkit-text-decoration:none;text-decoration:none;font-size:14px;margin-left:16px;position:relative;}.css-1ooej63.active{color:var(--theme-ui-colors-sidebar-tocLinkActive,#1D2330);}.css-1ooej63.active::before{content:"";position:absolute;display:block;top:2px;left:-8px;height:1rem;background-color:var(--theme-ui-colors-primary,#0B5FFF);-webkit-transition:width 200ms ease 0s;transition:width 200ms ease 0s;width:2px;border-radius:1px;}</style><a class=" css-1ooej63" href="/director/storage#dummy">Dummy</a><a class=" css-1ooej63" href="/director/storage#aws-s3">AWS S3</a><a class=" css-1ooej63" href="/director/storage#minio-driver">Minio Driver</a></div></div><a class="css-1rqvyud" href="/api">API</a><a class="css-1rqvyud" href="/dashboard">Dashboard</a><div data-testid="nav-group" class="css-1ebprri"><div class="css-1c8kbwa">Installation<style data-emotion-css="cu2sly">.css-cu2sly{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);transform:rotateX(0deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-cu2sly"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div data-testid="nav-group-links" class="css-1isemmb"></div></div><div data-testid="nav-group" class="css-1ebprri"><div class="css-1c8kbwa">CI Guides<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-cu2sly"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div data-testid="nav-group-links" class="css-1isemmb"></div></div><a class="css-1rqvyud" href="/cypress-agent">Cypress agent</a><a class="css-1rqvyud" href="/development">Development</a><a class="css-1rqvyud" href="/faq">FAQ</a></div><style data-emotion-css="1w3d2mg">.css-1w3d2mg{background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1w3d2mg{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="kjtkh5">.css-kjtkh5{width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-kjtkh5{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="1307vk3">.css-1307vk3{box-sizing:border-box;min-width:0;width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1307vk3{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><div data-testid="main-container" class="css-1307vk3"><h2 id="dummy"><style data-emotion-css="1r0pe6c">.css-1r0pe6c{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-1r0pe6c:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="#dummy" class="css-1r0pe6c">Dummy</a></h2><style data-emotion-css="1ftn47p">.css-1ftn47p{padding:0;margin:0;margin-bottom:16px;}</style><p class="css-1ftn47p">Is the default driver and it does nothing - snapshots won&#x27;t be saved.</p><p class="css-1ftn47p">Set the environment variable to define the screenshots driver.</p><div><style data-emotion-css="1h0sj8d">.css-1h0sj8d{padding:16px;margin:0;margin-bottom:32px;font-size:85%;margin-top:32px;text-align:left;font-family:Inconsolata;border-radius:4px;}.css-1h0sj8d dark{[object Object];}.css-1h0sj8d light{[object Object];}</style><pre class=" prism-code language-text css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><span class="token plain css-1baulvz">SCREENSHOTS_DRIVER=&quot;../screenshots/dummy.driver&quot;</span></div></pre></div><h2 id="aws-s3"><a href="#aws-s3" class="css-1r0pe6c">AWS S3</a></h2><p class="css-1ftn47p">The driver generates upload URLs for S3 bucket. When set up properly the following will happen when each test suite finishes:</p><style data-emotion-css="cvh4i0">.css-cvh4i0{padding:0;margin:0;margin-bottom:16px;list-style-position:outside;list-style-image:none;margin-left:16px;}</style><ul class="css-cvh4i0"><style data-emotion-css="q43a5f">.css-q43a5f{margin-bottom:4px;padding-left:0;}.css-q43a5f ol{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f ul{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f p{margin-bottom:8px;}</style><li class="css-q43a5f">cypress agent reports to <style data-emotion-css="ueqitl">.css-ueqitl{font-family:Inconsolata;}</style><code class="css-ueqitl">director</code> what videos and / or failed tests screenshots are availabe.</li><li class="css-q43a5f"><code class="css-ueqitl">director</code> uses AWS credentials to generate<ul class="css-cvh4i0"><li class="css-q43a5f">a temporary signed URL for each screenshot / video</li><li class="css-q43a5f">a read URL is saved to associated test results</li></ul></li><li class="css-q43a5f">cypress agent uses the temporary URL to upload the assets</li><li class="css-q43a5f">dashboard uses the read URL to display video / screenshots</li></ul><h3 id="setup"><a href="#setup" class="css-1r0pe6c">Setup</a></h3><p class="css-1ftn47p">Please make sure that <style data-emotion-css="1iv9jyz">.css-1iv9jyz{color:var(--theme-ui-colors-primary,#0B5FFF);-webkit-text-decoration:none;text-decoration:none;}.css-1iv9jyz:hover{color:secondary;-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html" class="css-1iv9jyz">AWS credentials</a> with proper access to invoke <a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#getSignedUrl-property" class="css-1iv9jyz"><code class="css-ueqitl">s3.getSignedUrl</code></a> are available in the environment.</p><h3 id="configuration"><a href="#configuration" class="css-1r0pe6c">Configuration</a></h3><p class="css-1ftn47p">You can customize certain aspects of how <code class="css-ueqitl">director</code> handles upload and read URLs generation by setting up environment variables.</p><h4 id="screenshots_driver"><a href="#screenshots_driver" class="css-1r0pe6c"><code class="css-ueqitl">SCREENSHOTS_DRIVER</code></a></h4><p class="css-1ftn47p">Defines what screenshot driver to use. In order to use S3 driver set value:</p><div><pre class="language-sh prism-code language-sh css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">SCREENSHOTS_DRIVER=&quot;../screenshots/s3.driver&quot;</span></div></pre></div><h4 id="s3_bucket"><a href="#s3_bucket" class="css-1r0pe6c"><code class="css-ueqitl">S3_BUCKET</code></a></h4><p class="css-1ftn47p">Set the bucket name to store the asset. There&#x27;s no default value, you have to set it before using the driver.</p><div><pre class="language-sh prism-code language-sh css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">S3_BUCKET=&quot;your_bucket_name&quot;</span></div></pre></div><h4 id="s3_region"><a href="#s3_region" class="css-1r0pe6c"><code class="css-ueqitl">S3_REGION</code></a></h4><p class="css-1ftn47p">AWS region, default value is <code class="css-ueqitl">&quot;us-east-1&quot;</code></p><div><pre class="language-sh prism-code language-sh css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">S3_REGION=&quot;us-east-1&quot;</span></div></pre></div><h4 id="s3_acl"><a href="#s3_acl" class="css-1r0pe6c"><code class="css-ueqitl">S3_ACL</code></a></h4><p class="css-1ftn47p">ACL settings that for new S3 items. The default value is <code class="css-ueqitl">&quot;public-read&quot;</code>. Read more about <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html" class="css-1iv9jyz">S3 ACL</a>.</p><div><pre class="language-sh prism-code language-sh css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">S3_ACL=&quot;public-read&quot;</span></div></pre></div><h4 id="s3_read_url_prefix"><a href="#s3_read_url_prefix" class="css-1r0pe6c"><code class="css-ueqitl">S3_READ_URL_PREFIX</code></a></h4><p class="css-1ftn47p">The URL prefix to use when reading the screenshots / video. The default value is <code class="css-ueqitl">https://${S3_BUCKET}.s3.amazonaws.com/${key}</code>.</p><p class="css-1ftn47p">Setting <code class="css-ueqitl">S3_READ_URL_PREFIX</code> to <code class="css-ueqitl">http://example.com</code> will change the generated URL to <code class="css-ueqitl">https://example.com/${key}</code>.</p><div><pre class="language-sh prism-code language-sh css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">S3_READ_URL_PREFIX=&lt;null&gt;</span></div></pre></div><h2 id="minio-driver"><a href="#minio-driver" class="css-1r0pe6c">Minio Driver</a></h2><p class="css-1ftn47p"><a href="https://en.wikipedia.org/wiki/MinIO" class="css-1iv9jyz">MinIO</a> can help you to setup local Amazon S3 compatible storage stack.</p><ul class="css-cvh4i0"><li class="css-q43a5f"><p class="css-1ftn47p">You should be able to change the environment variables according to your Minio setup. Please refer to the default values at <a href="https://github.com/agoldis/sorry-cypress/blob/master/packages/director/src/screenshots/minio/config.ts" class="css-1iv9jyz"><code class="css-ueqitl">src/screenshots/minio/config.ts</code></a>.</p></li><li class="css-q43a5f"><p class="css-1ftn47p">The available minio configuration resembles S3 storage driver configruation.</p></li><li class="css-q43a5f"><p class="css-1ftn47p">Treat your Minio keys and secrets AWS credentials and hide them.</p></li><li class="css-q43a5f"><p class="css-1ftn47p">Behing the scenes, <code class="css-ueqitl">director</code> generates a <a href="https://docs.min.io/docs/upload-files-from-browser-using-pre-signed-urls.html" class="css-1iv9jyz">pre-signed upload URL</a>, that cypress agents use to upload screenshots and videos.</p></li></ul><ul class="css-cvh4i0"><li class="css-q43a5f"><style data-emotion-css="1vg6q84">.css-1vg6q84{font-weight:700;}</style><strong class="css-1vg6q84">Warning!</strong> The example <code class="css-ueqitl">docker-compose.minio.yml</code> deletes existing buckets, so please test - or remove from the docker file after first run!</li></ul><h3 id="configuration-1"><a href="#configuration-1" class="css-1r0pe6c">Configuration</a></h3><p class="css-1ftn47p">See <a href="https://github.com/agoldis/sorry-cypress/blob/master/docker-compose.minio.yml" class="css-1iv9jyz"><code class="css-ueqitl">docker-compose.minio.yml</code></a> for ready-to-use sorry-cypress configuration that uses locally hosted Minio as a storage layer.</p><h4 id="minio_access_key-and-minio_secret_key"><a href="#minio_access_key-and-minio_secret_key" class="css-1r0pe6c"><code class="css-ueqitl">MINIO_ACCESS_KEY</code> and <code class="css-ueqitl">MINIO_SECRET_KEY</code></a></h4><p class="css-1ftn47p">For accessing minio, <code class="css-ueqitl">docker-compose.minio.yml</code> generates a predefined set of credentials, e.g.:</p><div><pre class="language-sh prism-code language-sh css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">/usr/bin/mc config host add myminio http://storage:9000 MW32h3gd6HvjBEgTRx t6NgQWUcEyG2AzaDCVkN6sbWcvDCVkN6sGiZ7;</span></div></pre></div><h4 id="minio_endpoint"><a href="#minio_endpoint" class="css-1r0pe6c"><code class="css-ueqitl">MINIO_ENDPOINT</code></a></h4><p class="css-1ftn47p">Hostname or IP address that <strong class="css-1vg6q84">both <code class="css-ueqitl">director</code> and cypress agents</strong> will use to communicate with <code class="css-ueqitl">minio</code> service.</p><ul class="css-cvh4i0"><li class="css-q43a5f"><p class="css-1ftn47p">Please make sure that your network configuration allows access to <code class="css-ueqitl">minio</code> resouce for cypress agents and for <code class="css-ueqitl">director</code> service</p></li><li class="css-q43a5f"><p class="css-1ftn47p">To run on the local machine, edit your <code class="css-ueqitl">/etc/hosts</code> file to allow cypress agents discover the local instance of minio</p></li></ul><div><pre class="language-sh prism-code language-sh css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">127.0.0.1 storage</span></div></pre></div><h4 id="minio_port"><a href="#minio_port" class="css-1r0pe6c"><code class="css-ueqitl">MINIO_PORT</code></a></h4><p class="css-1ftn47p">Port that <code class="css-ueqitl">director</code> and cypress agents will use to communicate with <code class="css-ueqitl">minio</code>.</p><h4 id="minio_bucket"><a href="#minio_bucket" class="css-1r0pe6c"><code class="css-ueqitl">MINIO_BUCKET</code></a></h4><p class="css-1ftn47p">Bucket name for storing generated artifacts. Please make sure that the bucket is created and configured properly before using it.</p><h4 id="minio_usessl"><a href="#minio_usessl" class="css-1r0pe6c"><code class="css-ueqitl">MINIO_USESSL</code></a></h4><p class="css-1ftn47p">Whether <code class="css-ueqitl">director</code> should use SSL for communicating with <code class="css-ueqitl">minio</code>.</p><h4 id="minio_url"><a href="#minio_url" class="css-1r0pe6c"><code class="css-ueqitl">MINIO_URL</code></a></h4><p class="css-1ftn47p">The public URL used for public read access to the stored screenshots and videos.
This URL should be available from your browser and it will be used to fetch generated screenshots and videos.</p><h4 id="minio_read_url_prefix"><a href="#minio_read_url_prefix" class="css-1r0pe6c"><code class="css-ueqitl">MINIO_READ_URL_PREFIX</code></a></h4><p class="css-1ftn47p">You can override the whole read URL, including the bucket name using this variable. Most chances you won&#x27;t need it, if you do, see the <a href="https://github.com/sorry-cypress/sorry-cypress/blob/master/packages/director/src/screenshots/minio/minio.ts#L42" class="css-1iv9jyz">source code</a></p></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/director/storage";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-574cea55b8ac05a73602.js"],"app":["/app-4c4652f88b6856a41a16.js"],"component---src-agent-mdx":["/component---src-agent-mdx-40b9b14e1a89b6074d4f.js"],"component---src-api-mdx":["/component---src-api-mdx-d8b1a2f52bff0ccdd8f3.js"],"component---src-ci-aws-codebuild-a-mdx":["/component---src-ci-aws-codebuild-a-mdx-48fac9a0080091f4ffe3.js"],"component---src-ci-aws-codebuild-b-mdx":["/component---src-ci-aws-codebuild-b-mdx-ed13f0c9024c3a6bd3ff.js"],"component---src-ci-jenkins-mdx":["/component---src-ci-jenkins-mdx-057f501342c063d3f50a.js"],"component---src-dashboard-mdx":["/component---src-dashboard-mdx-05ebed3d71a8e5ca7d68.js"],"component---src-development-mdx":["/component---src-development-mdx-33f9d0f695185b2e6814.js"],"component---src-director-execution-mdx":["/component---src-director-execution-mdx-ee765d12fd0a4cc81b36.js"],"component---src-director-index-mdx":["/component---src-director-index-mdx-909186fa4bc6f1470981.js"],"component---src-director-storage-mdx":["/component---src-director-storage-mdx-13ce6066df7256f4f321.js"],"component---src-faq-mdx":["/component---src-faq-mdx-5b0d09b947beb45f184e.js"],"component---src-index-mdx":["/component---src-index-mdx-98874c2bb6fbfba9b535.js"],"component---src-installation-aws-mdx":["/component---src-installation-aws-mdx-5bbce83d56780374ce0f.js"],"component---src-installation-azure-mdx":["/component---src-installation-azure-mdx-54d9455d77864208cc58.js"],"component---src-installation-docker-mdx":["/component---src-installation-docker-mdx-9ad68120901f0f6b1156.js"],"component---src-installation-google-cloud-mdx":["/component---src-installation-google-cloud-mdx-6b66a813492409108659.js"],"component---src-installation-heroku-mdx":["/component---src-installation-heroku-mdx-849d8693cd341d0cb6ea.js"],"component---src-installation-kubernetes-mdx":["/component---src-installation-kubernetes-mdx-414eb2df1158d2787d9b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-7ac1195265fb9c559fba.js"],"component---src-quickstart-mdx":["/component---src-quickstart-mdx-69aa8b2afafbdb13d0da.js"],"component---src-terminology-mdx":["/component---src-terminology-mdx-fbc74822c38bc5a0d7b5.js"]};/*]]>*/</script><script src="/polyfill-574cea55b8ac05a73602.js" nomodule=""></script><script src="/component---src-director-storage-mdx-13ce6066df7256f4f321.js" async=""></script><script src="/0e9153fc81f8423a02120677f529c9dabcf95ba8-5de3d99bec290bcb0d96.js" async=""></script><script src="/bac1b955-b711947e81fae9e9bc2c.js" async=""></script><script src="/app-4c4652f88b6856a41a16.js" async=""></script><script src="/styles-c2598f7b497d65d1061f.js" async=""></script><script src="/framework-22210915f06f18fcf573.js" async=""></script><script src="/webpack-runtime-35816766eca2939e0727.js" async=""></script></body></html>